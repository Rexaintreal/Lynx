<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <meta name="theme-color" content="#FAFAFA" media="(prefers-color-scheme: light)">
  <meta name="theme-color" content="#09090B" media="(prefers-color-scheme: dark)">
  <title>Lynx</title>
  
  <!-- Favicons -->
  <link rel="apple-touch-icon" sizes="180x180" href="{{ url_for('static', filename='assets/favicon/apple-touch-icon.png') }}">
  <link rel="icon" type="image/png" sizes="32x32" href="{{ url_for('static', filename='assets/favicon/favicon-32x32.png') }}">
  <link rel="icon" type="image/png" sizes="16x16" href="{{ url_for('static', filename='assets/favicon/favicon-16x16.png') }}">
  <link rel="manifest" href="{{ url_for('static', filename='assets/favicon/site.webmanifest') }}">
  <link rel="shortcut icon" href="{{ url_for('static', filename='assets/favicon/favicon.ico') }}">
  
  <script>
  (() => {
    const savedTheme = localStorage.getItem("theme");
    const prefersDark = window.matchMedia("(prefers-color-scheme: dark)").matches;
    const theme = savedTheme || (prefersDark ? "dark" : "light");
    
    // Apply theme to html element 
    document.documentElement.classList.add(theme);
    
    // Also apply background color directly via style attribute
    if (theme === "dark") {
      document.documentElement.style.background = "#09090B";
      document.documentElement.style.color = "#F4F4F5";
    } else {
      document.documentElement.style.background = "#FAFAFA";
      document.documentElement.style.color = "#18181B";
    }
  })();
  </script>
  
  <!-- Inline critical CSS to prevent flash -->
  <style>
    /* Apply immediately to html root */
    html {
      margin: 0;
      padding: 0;
    }
    html.light {
      background: #FAFAFA !important;
      color: #18181B !important;
    }
    html.dark {
      background: #09090B !important;
      color: #F4F4F5 !important;
    }
    body {
      margin: 0;
    }
    body.light {
      background: #FAFAFA;
      color: #18181B;
    }
    body.dark {
      background: #09090B;
      color: #F4F4F5;
    }
    
    /* Navbar - prevent flash */
    .navbar {
      background: rgba(255, 255, 255, 0.8);
      border-bottom: 1px solid rgba(0,0,0,0.1);
    }
    body.dark .navbar,
    html.dark .navbar {
      background: rgba(9, 9, 11, 0.8);
      border-color: rgba(255,255,255,0.1);
    }
  </style>

  <!-- Inter Font -->
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
  
  <!-- Font Awesome -->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css">

  <!-- CSS -->
  <link rel="stylesheet" href="{{ url_for('static', filename='css/styles.css') }}">
</head>
<body>
  <nav class="navbar">
    <div class="logo-title">
      <img src="{{ url_for('static', filename='assets/logo.png') }}" alt="Lynx Logo" class="logo-img">
      <span class="title">Lynx</span>
    </div>
    <div class="nav-links">
      <a href="{{ url_for('home') }}" aria-current="page">Home</a>
      <a href="{{ url_for('face_detection') }}">Face Detection</a>
      <a href="{{ url_for('face_recognition') }}">Face Recognition</a>
      <button id="theme-toggle" class="theme-btn" aria-label="Toggle dark mode"><i class="fa-solid fa-moon"></i></button>
    </div>
  </nav>

  <main class="landing">
    <h1>Welcome to Lynx</h1>
    <p class="subtitle">Lynx is a project combining several smaller OpenCV initiatives developed for the <a href="https://hackberry.hackclub.com">Hackberry YSWS</a> event, featuring various image processing functionalities on its website.</p>
    <div class="buttons">
      <a href="{{ url_for('face_detection') }}" class="btn primary">
        <i class="fa-solid fa-user"></i> Try Face Detection
      </a>
    </div>

    <section id="features" class="features">
      <div class="feature">
        <i class="fa-solid fa-face-smile"></i>
        <h3>Face Detection</h3>
        <p>Number of faces in the picture detection</p>
      </div>

      <div class="feature">
        <i class="fa-solid fa-user-check"></i>
        <h3>Face Recognition</h3>
        <p>Identify people & analyze attributes (age and gender).</p>
      </div>

      <div class="feature">
        <i class="fa-solid fa-image"></i>
        <h3>Image Filters</h3>
        <p>Apply artistic effects instantly.</p>
      </div>

      <div class="feature">
        <i class="fa-solid fa-eye"></i>
        <h3>Object Detection</h3>
        <p>Identify objects in any image.</p>
      </div>
    </section>
  </main>

  <footer class="footer">Built with OpenCV & Flask</footer>

  <!-- JS -->
  <script src="{{ url_for('static', filename='js/script.js') }}"></script>
</body>
</html>